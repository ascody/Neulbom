<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학급 관리 - 메인</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
<header class="navbar">
  <div class="nav-links">
    <a href="#" class="nav-item active">학급 관리</a>
    <a href="./generate.html" class="nav-item">문제 생성</a>
    <a href="#" class="nav-item">자료실</a>
  </div>

  <div class="user-profile">
    <div class="school-info">
      <div id="schoolNameDisplay" class="school-name">학교 미선택</div>
      <div id="inviteCodeDisplay" class="invite-code">초대코드: -</div>
    </div>
    <i class="fas fa-user-circle fa-2x"></i>
  </div>
</header>

<div class="main-container">
  <aside class="sidebar">
    <div class="sidebar-section">
      <div class="sidebar-title">
        <span>학생</span>
        <i class="fas fa-caret-down"></i>
      </div>
      <nav class="student-list" id="studentList">
      </nav>
    </div>
  </aside>

  <main class="content">
    <div class="pink-background">
      <div class="student-card-grid" id="studentCardGrid">
      </div>
    </div>
  </main>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const schoolNameEl = document.getElementById('schoolNameDisplay');
    const inviteCodeEl = document.getElementById('inviteCodeDisplay');

    let schoolName = '동도중학교';
    let inviteCode = '84e6414a';

    schoolNameEl.textContent = schoolName;
    inviteCodeEl.textContent = `초대코드: ${inviteCode}`;
  });

  function generateInviteCode() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let code = '';
    for (let i = 0; i < 8; i++) {
      const idx = Math.floor(Math.random() * chars.length);
      code += chars.charAt(idx);
    }
    return code;
  }

  // 학생 데이터 예시 (실제로는 서버에서 받아올 데이터)
  const students = [
    // { id: 1, name: "학생 1" },
    // { id: 2, name: "학생 2" }
  ];

  // 페이지 로드 시 학생 목록이 비어 있도록 함수를 실행하지 않거나,
  // 빈 배열을 사용합니다.

  // 참고: 학생 데이터를 동적으로 추가하는 함수 예시 (필요 시 사용)
  function renderStudents(studentData) {
    const studentList = document.getElementById('studentList');
    const cardGrid = document.getElementById('studentCardGrid');

    // 기존 목록 초기화
    studentList.innerHTML = '';
    cardGrid.innerHTML = '';

    studentData.forEach((student, index) => {
      // 1. 사이드바 목록 항목 생성
      const listItem = document.createElement('a');
      listItem.href = `#student-${student.id}`;
      listItem.className = 'student-item';
      // 첫 번째 항목에만 active 클래스 추가 (선택 사항)
      if (index === 0) {
        listItem.classList.add('active');
      }
      listItem.textContent = student.name;
      studentList.appendChild(listItem);

      // 2. 메인 콘텐츠 카드 생성
      const card = document.createElement('div');
      card.className = 'student-card';
      card.innerHTML = `
                    <div class="card-content"></div>
                    <div class="card-footer">
                        <span>${student.name}</span>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                `;
      cardGrid.appendChild(card);
    });
  }

  // 초기 로드 시, 학생 데이터가 없으므로 화면은 비어 있습니다.
  // renderStudents(students);
</script>
</body>
</html>